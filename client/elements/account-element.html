<html>
<head>

<link rel="import" href="../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../bower_components/polymer/polymer.html">

</head>
<body>

<dom-module id="account-element">
  <template>
    <iron-ajax url="http://localhost:9999/api/getAccounts" auto last-response="{{resp}}"></iron-ajax>
    <textarea value="{{resp.0.firstName}}"></textarea>
    <template is="dom-repeat" items="{{resp}}" as="account">
      <div>
        <span>{{account.firstName}}</span> <span>{{account.lastName}}</span>
          <template is="dom-repeat" items="{{account.transactions}}" as="transaction">
            <span><p>{{transaction.amount}}</p></span>
          </template>
      </div>
    </template>
  </template>
</dom-module>

<script>
  Polymer({
    is: 'account-element',
    properties: {
      resp: {
        type: Object
      }
    }
  });
</script>
